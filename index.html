<!doctype html>
<html>
    <head>
        <!-- Enchant.JS library -->
        <script type="text/javascript" language="javascript" src="js/enchant.js"></script>
        <!-- General files -->
        <script type="text/javascript" language="javascript" src="js/mapMatrix.js"></script>
        <script type="text/javascript" language="javascript" src="js/game.js"></script>
        <script type="text/javascript" language="javascript" src="js/map.js"></script>
        <script type="text/javascript" language="javascript" src="js/overrides.js"></script>
        <!-- Characters - PJs -->
        <script type="text/javascript" language="javascript" src="js/pj/pj.js"></script>
        <script type="text/javascript" language="javascript" src="js/pj/paparazzi.js"></script>
        <script type="text/javascript" language="javascript" src="js/pj/celebrity.js"></script>
        <script type="text/javascript" language="javascript" src="js/pj/npc.js"></script>
        <!-- Scene files -->
        <script type="text/javascript" language="javascript" src="js/scenes/city.js"></script>
        <script type="text/javascript" language="javascript" src="js/scenes/intro.js"></script>
    </head>
    <body style="margin:0; padding: 0;">
        <script>
            enchant(); // initialize
            var game = new Game(width, height); // game stage
            game.fps = fps;
            game.preload('images/tileMap.png', 
                         'images/paparazzi.png', 
                         'images/celebrity.png',
                         'images/npc0.png',
                         'images/npc1.png',
                         'misc/camera.wav', 
                         'misc/bgm.wav',
                         'misc/heartbeat_slow.wav',
                         'misc/heartbeat_normal.wav',
                         'misc/heartbeat_quick.wav',
                         'misc/notice.wav',
                         'misc/womanScream.wav',
                         'misc/womanScreamShort.wav'
                         );
            var sounds = [];
            sounds['bgm'] = 'misc/bgm.wav';
            sounds['camera'] = 'misc/camera.wav';
            sounds['heart_slow'] = 'misc/heartbeat_slow.wav';
            sounds['heart_normal'] = 'misc/heartbeat_normal.wav';
            sounds['heart_quick'] = 'misc/heartbeat_quick.wav';
            sounds['notice'] = 'misc/notice.wav';
            sounds['scream'] = 'misc/womanScream.wav';
            sounds['screamShort'] = 'misc/womanScreamShort.wav';
            var heartbeatLevel = 'slow';
            var timer = 0;
            var frameCount = 0;
            game.onload = function() {
                var map = getGameMap();
                var intro = getIntroScene();

                game.pushScene(intro);
                
                var city = getCityScene();
                game.pushScene(city);
            };
            game.start(); // start the game!
        </script>
    </body>
</html>
